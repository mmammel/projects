
<html>
<head>
  <script type="text/javascript">

    
    var isMac = navigator.platform.indexOf('Mac') == 0;
    var commandKeyPressed = false;
    function isControlPressed( e ) {
	  var retVal = false;
	  if( isMac )
	  {
		retVal = commandKeyPressed;
	  }
	  else
      {
	    retVal = e.ctrlKey;
      }

      return retVal;
    }

    // kill keyboard events so that they don't make it to the browser (IE), perform browser functions
    document.onkeyup = function(e){
      if( isMac &&  (e.keyCode == 91 || e.keyCode == 93) ) commandKeyPressed = false;
      return false;
    }

    document.onkeydown = function (e) {
      if( isMac && (e.keyCode == 91 || e.keyCode == 93) ) {
         commandKeyPressed = true;
         return false;
      }

      var out = document.getElementById( "output" );
      out.innerHTML = e.keyCode + " Alt: " + (e.altKey ? "true" : "false") + " Ctrl: " + (isControlPressed(e) ? "true" : "false") + " Shift: " + (e.shiftKey ? "true" : "false");
     return false;
   }
  </script>
</head>
<body>
  Hit some Keys.
  <h3 id="output"></h3>
</body>
</html>
